<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>J08Function02.html</title>
    <script>
        /* 
            this.변수명 => 전역변수
            변수명 => 지역변수
            키워드 this는 JS에서는 window객체를 가리키는 것으로
            전역벽수를 구분할 떄 사용한다
        */
        
        document.write("<h2>지역변수와 전역변수</h2>");
        //1. 전역변수로 선언, 해당 HTML문서 전체에서 사용가능함
        var globalVar = 100;

        //3. 인수로 전달된 100은 매개변수인 global var가 받는다
        function conflict(globalVar){
            /*
                전역변수와 지역변수가 동일한 이름으로 충돌이 발생하므로
                구분을 위해 this를 사용한다. this는 윈도우 객체이므로
                전역변수를 가르키게 된다
            */
           //전역변수(200) = 지역변수(100)*2
            this.globalVar = globalVar*2;
            document.write("함수안 globalVar(지역)="+globalVar+"<br/>");
            document.write("함수안 this.globalVar(전역)="+this.globalVar+"<br/>");
        }
        //2. 전역변수 100을 인수로 전달한다
        conflict(globalVar);
        //4. 함수 내에서 전역변수값이 변경되었으므로 값이 200이 출력된다
        document.write("함수밖 globalVar(전역)="+globalVar+"<br>");

        //5. 전역변수가 가진 200을  localVar가 받는다
        function conflict2(localVar){
            globalVar = localVar + 50;
            localVar = localVar + 80;

            document.write("함수2안 globalVar="+globalVar+
                ", localVar="+localVar+"<br/>");
        }
        conflict2(globalVar);
        // localVar는 지역변수이므로 사라졌으니 에러가 발생하여 출력문이 실행되지 않음
        // 해당 에러는 f12를 통해 개발자 모드에서 확인할 수 있다
        // document.write("함수2밖 globalVar="+globalVar+
        //         ", localVar="+localVar+"<br/>"); 
        document.write("함수2밖 globalVar="+globalVar+
                ", localVar= 선언된 적 없음 <br/>");
    </script>
</head>
<body>
    
</body>
</html>