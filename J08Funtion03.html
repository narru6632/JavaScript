<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>J08Funtion03.html</title>
    <script>

        /* 
            Call by Value : 값에 의한 호출, 값을 매개변수로 전달하면 
                메모리상에서 복사가 일어나서 전달되는 형식.
                함수내에서 지역변수가 되므로 함수가 종료되면 자동으로
                소멸된다
        */
        // 1. 전역변수 생성
        var param = 100, args = 1;

        document.write("<h2>Call by Value</h2>");
        // 2. 딱히 한게 없으므로 초기값 100, 1 출력
        document.write("초기값 param="+param+", args"+args+"(전역변수)<br/>");

        // 매개변수와 전역변수의 이름이 동일하여 충돌할 때
        // 지역변수가 더 높은 우선순위를 가지게된다

        //함수 설정
        function callByValue(param, args){
            //this를 사용하지 않았으므로 지역변수를 사용한다
            //CallbyValue를 통해 매개변수로 전달된 값은 
            //메모리 상에서 복사되어 해당 함수의 지역변수가 되었다
            
            //값 교환
            var temp = param;
            param = args;
            args = temp;
            //4. 함수의 안에서 교환된 값 출력
            document.write("함수안의 param="+param+", args="+args+"(지역변수)<br/>");
        }
        // 3. 전역변수가 설정된 값을 복사하여 인수로 전달 : 100,1
        callByValue(param, args);
        // 5. 함수가 끝나며 지역변수는 소멸, 원래있던 전역변수가 출격됨
        document.write("함수밖의 param="+param+", args="+args+"(전역변수)<br/>");




        /* 
            Call by Reference : 참조에 의한 호출.
                값이 아닌 객체의 참조값(주소값)을 전달하여 지역에 상관없이 동일한
                동일한 객체를 참조할 수 있는 호출방식
        */

        document.write("<h2>Call by Referece</h2>");
        
        //배열을 생성과 동시에 초기화, 크기 2짜리 배열 생성
        var array = [100,1];
        document.write("초기값 array[0]="+array[0]+
            ", array[1]="+array[1]+"<br/>");

        //배열의 참조값을 매개변수로 전달받는다
        function callByReference(arr){
            //배열의 '참조값'을 통해 값이 교환되므로, 실제 배열의 값이 변경된다
            var temp = arr[0];
            arr[0] = arr[1];
            arr[1] = temp;
            //배열의 원소는 교환이 되어 1, 100이 출력된다
            document.write("함수안 arr[0]="+arr[0]
                +", arr[1]="+arr[1]+"<br/>")
        }
        
            //배열의 참조값을 인수로 전달
        callByReference(array);
            //함수 안에서 배열의 원소가 변경 되었으므로 밖에서도 동일한 결과를 볼 수 있다.
        document.write("함수밖 array[0]=" + array[0]
            + ", array[1]=" + array[1]+"<br/>")


    </script>
</head>
<body>
    
</body>
</html>